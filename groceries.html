<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Groceries ‚Äì QuickGo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f4f7fb;
}

/* HEADER */
.header {
  background: #22c55e;
  color: white;
  padding: 14px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.cart {
  position: relative;
  cursor: pointer;
  font-size: 30px;
}

.cart span {
  position: absolute;
  top: -8px;
  right: -10px;
  background: red;
  color: white;
  font-size: 12px;
  padding: 2px 6px;
  border-radius: 50%;
}

/* SEARCH */
.search-box {
  padding: 12px 16px;
}

.search-box input {
  width: 100%;
  padding: 12px;
  border-radius: 10px;
  border: none;
  outline: none;
  font-size: 16px;
}

/* CATEGORIES */
.category-row {
  display: flex;
  gap: 12px;
  padding: 12px 16px;
  overflow-x: auto;
}

.category {
  background: #fff;
  padding: 10px 16px;
  border-radius: 20px;
  cursor: pointer;
  white-space: nowrap;
}

.category.active {
  background: #22c55e;
  color: white;
  font-weight: bold;
}

/* GRID */
.grid {
  padding: 20px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 20px;
}

.card {
  background: white;
  border-radius: 14px;
  padding: 14px;
  box-shadow: 0 8px 18px rgba(0,0,0,.08);
}

.card img {
  width: 100%;
  height: 130px;
  object-fit: cover;
  border-radius: 10px;
}

.price {
  color: #16a34a;
  font-weight: bold;
}

/* QTY */
.qty {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 10px;
}

.qty button {
  width: 32px;
  height: 32px;
  border: none;
  border-radius: 6px;
  background: #22c55e;
  color: white;
  font-size: 18px;
  cursor: pointer;
}

.add-btn {
  width: 100%;
  padding: 8px;
  background: #22c55e;q
  border: none;
  border-radius: 8px;
  color: white;
  cursor: pointer;
}

.home-btn {
  font-size: 26px;
  cursor: pointer;
}

/* ================= ZEPTO STYLE ADDITIONS (ADD ONLY) ================= */

.zepto-cat-strip {
  display: flex;
  gap: 22px;
  padding: 14px 16px;
  overflow-x: auto;
  background: #fff;
}

.zepto-cat {
  min-width: 90px;
  text-align: center;
}

.zepto-cat img {
  width: 64px;
  height: 64px;
  border-radius: 16px;
  background: #f5f5f5;
  padding: 8px;
}

.zepto-cat span {
  display: block;
  margin-top: 6px;
  font-size: 13px;
}

.zepto-banners {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  padding: 16px;
}

.zepto-banner {
  border-radius: 20px;
  padding: 20px;
  color: white;
}

.zepto-banner.red {
  background: linear-gradient(135deg, #ef4444, #dc2626);
}

.zepto-banner.purple {
  background: linear-gradient(135deg, #a78bfa, #7c3aed);
}

.zepto-banner h2 {
  margin: 0;
}

.zepto-banner button {
  margin-top: 10px;
  background: black;
  color: white;
  border: none;
  padding: 8px 14px;
  border-radius: 10px;
}
</style>
</head>

<body>

<!-- HEADER -->
<div class="header">
  <div class="home-btn" onclick="location.href='index.html'">üè†</div>
  <h2>üß∫ Groceries</h2>
  <div class="cart" onclick="location.href='grocery-checkout.html'">
    üõí <span id="cartCount">0</span>
  </div>
</div>

<!-- SEARCH -->
<div class="search-box">
  <input type="text" id="searchInput"
         placeholder="Search groceries..."
         oninput="searchItems(this.value)">
</div>

<!-- ZEPTO CATEGORY ICON STRIP (ADDED) -->
<div class="zepto-cat-strip">
  <div class="zepto-cat"><img src="icons/all.png"><span>All</span></div>
  <div class="zepto-cat"><img src="icons/veg.png"><span>Fruits & Veg</span></div>
  <div class="zepto-cat"><img src="icons/dairy.png"><span>Dairy</span></div>
  <div class="zepto-cat"><img src="icons/snacks.png"><span>Snacks</span></div>

</div>

<!-- ZEPTO OFFER BANNERS (ADDED) -->
<div class="zepto-banners">
  <div class="zepto-banner red">
    <h2>‚Çπ0 Convenience Fee</h2>
    <button>Order Now</button>
  </div>
  <div class="zepto-banner purple">
    <h2>ALL NEW EXPERIENCE</h2>
  </div>
</div>

<!-- CATEGORIES -->
<div class="category-row">
  <div class="category active" onclick="filterCategory('vegetables', this)">ü•¶ Vegetables</div>
  <div class="category" onclick="filterCategory('fruits', this)">üçé Fruits</div>
  <div class="category" onclick="filterCategory('dairy', this)">ü•õ Dairy</div>
  <div class="category" onclick="filterCategory('snacks', this)">üç™ Snacks</div>
</div>

<!-- GRID -->
<div class="grid" id="groceryGrid"></div>

<script>
/* DATA */
const groceries = [
  { name: "Tomato (1kg)", price: 40, cat: "vegetables",
    img: "https://images.unsplash.com/photo-1582284540020-8acbe03f4924?auto=format&fit=crop&w=600&q=80" },
  { name: "Onion (1kg)", price: 35, cat: "vegetables",
    img: "https://images.unsplash.com/photo-1618512496248-a07fe83aa8cb" },
  { name: "Apple (1kg)", price: 120, cat: "fruits",
    img: "https://images.unsplash.com/photo-1567306226416-28f0efdc88ce" },
  { name: "Milk (1L)", price: 60, cat: "dairy", img: "milk.png" },
  { name: "Milk (250 (ml)", price: 15, cat: "dairy", img: "milk1.png" },
  { name: "curd (1L)", price: 45, cat: "dairy", img: "curd.png" },
  { name: "curd (250L)", price: 10, cat: "dairy", img: "curd1.png" },
  { name: "Britannia Brown Bread", price: 45, cat: "snacks", img: "bread.png" },
  { name: "Every day sandwich  Bread", price: 45, cat: "snacks", img: "every day bread.png" },
  { name: "Modern 100% Whole Wheat Bread (Zero Maida, No trans fat)", price: 42, cat: "snacks", img: "Whole Wheat Bread.png" }
];

let currentCategory = "vegetables";
let filteredItems = [];

/* CART */
function getCart() {
  return JSON.parse(localStorage.getItem("groceryCart")) || [];
}

function saveCart(cart) {
  localStorage.setItem("groceryCart", JSON.stringify(cart));
  updateCartCount();
}

/* RENDER */
function render(items) {
  const cart = getCart();
  const grid = document.getElementById("groceryGrid");
  grid.innerHTML = "";

  items.forEach(item => {
    const cartItem = cart.find(c => c.name === item.name);
    const qty = cartItem ? cartItem.qty : 0;

    grid.innerHTML += `
      <div class="card">
        <img src="${item.img}">
        <h4>${item.name}</h4>
        <div class="price">‚Çπ${item.price}</div>
        ${
          qty === 0
          ? `<button class="add-btn" onclick="changeQty('${item.name}',${item.price},1)">Add</button>`
          : `<div class="qty">
               <button onclick="changeQty('${item.name}',${item.price},-1)">‚àí</button>
               <span>${qty}</span>
               <button onclick="changeQty('${item.name}',${item.price},1)">+</button>
             </div>`
        }
      </div>
    `;
  });
}

/* SEARCH */
function searchItems(text) {
  render(filteredItems.filter(i => i.name.toLowerCase().includes(text.toLowerCase())));
}

function filterCategory(cat, el = null) {
  document.querySelectorAll(".category")
    .forEach(c => c.classList.remove("active"));

  // If clicked from pill
  if (el) {
    el.classList.add("active");
  } 
  // If triggered from icon strip
  else {
    const pillMap = {
      vegetables: 0,
      fruits: 1,
      dairy: 2,
      snacks: 3
    };
    const pill = document.querySelectorAll(".category")[pillMap[cat]];
    if (pill) pill.classList.add("active");
  }

  currentCategory = cat;
  filteredItems = groceries.filter(g => g.cat === cat);
  document.getElementById("searchInput").value = "";
  render(filteredItems);
}

/* QTY */
function changeQty(name, price, delta) {
  let cart = getCart();
  let item = cart.find(i => i.name === name);
  if (!item && delta > 0) cart.push({ name, price, qty: 1 });
  else if (item) { item.qty += delta; if (item.qty <= 0) cart = cart.filter(i => i.name !== name); }
  saveCart(cart);
  render(filteredItems);
}

/* CART COUNT */
function updateCartCount() {
  document.getElementById("cartCount").innerText =
    getCart().reduce((s, i) => s + i.qty, 0);
}

/* INIT */
filteredItems = groceries.filter(g => g.cat === currentCategory);
render(filteredItems);
updateCartCount();
/* ICON STRIP ‚Üí CATEGORY */
document.querySelectorAll(".zepto-cat").forEach(icon => {
  icon.addEventListener("click", () => {
    const cat = icon.dataset.cat;

    if (cat === "all") {
      document.querySelectorAll(".category")
        .forEach(c => c.classList.remove("active"));
      filteredItems = groceries;
      render(filteredItems);
      return;
    }

    filterCategory(cat);
  });
});

</script>

</body>
</html>
